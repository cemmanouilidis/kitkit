install_dir=/opt/GNUstep2

# install requirements using macports: sudo port install libxml2 gnutls icu

echo
echo "################## BUILDING GNUSTEP Makefiles ######################################"
echo 
cd gnustep-make
./configure --prefix=$install_dir CC=clang
make
make install
cd ..

export GNUSTEP_MAKEFILES=$install_dir/share/GNUstep/Makefiles
export PATH=$install_dir/bin/:$PATH
export LD_LIBRARY_PATH=$install_dir/lib/:/usr/lib:/lib/

echo
echo "################## BUILDING GNUSTEP OBJC ##########################################"
echo 
cd gnustep-libobjc2
make 
make install
cd ..


echo
echo "################## BUILDING GNUSTEP BASE ##########################################"
echo
cd gnustep-base
./configure --prefix=$install_dir --disable-importing-config-file
make
make install
